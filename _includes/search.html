{% assign proponenti =  site.data.iniziative | map: 'L_Proponenti' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign destinatari =  site.data.iniziative | map: 'L_Destinatari' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita =  site.data.iniziative | map: 'L_Tipologia_Attivita_1' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign scale =  site.data.iniziative | map: 'L_Tipologia_Scala' | join: ',' | join: ',' | split: ',' | uniq | sort %}

{% assign attivita_1 =  site.data.iniziative | map: 'L_Tipologia_Attivita_1' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita_2 =  site.data.iniziative | map: 'L_Tipologia_Attivita_2' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita_3 =  site.data.iniziative | map: 'L_Tipologia_Attivita_3' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita_4 =  site.data.iniziative | map: 'L_Tipologia_Attivita_4' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita_5 =  site.data.iniziative | map: 'L_Tipologia_Attivita_5' | join: ',' | join: ',' | split: ',' | uniq | sort %}
{% assign attivita_6 =  site.data.iniziative | map: 'L_Tipologia_Attivita_6' | join: ',' | join: ',' | split: ',' | uniq | sort %}

{% assign attivita = attivita_1 | concat:  attivita_2 | concat:  attivita_3 | concat:  attivita_4 | concat:  attivita_5 | concat:  attivita_6 | uniq %}




<div class="row">
    <div class="col-12">
        <p>
            I progetti aderenti al Manifesto sono visualizzati per ordine temporale di adesione (dal più recente) e sono filtrabili per tipologia di ente proponente, tipologia di destinatario (anche più di uno per progetto), tipologia di attività svolta e dimensione geografica di intervento.
        </p>
        <div class="collapse show col-12 px-0" role="tabpanel">
            <div class="filters-group" id="filters">
                <ul class="filter-options row m-0">
                    <li class="col-12 col-md-3">
                        <div class="collapse-header bg-100 mb-2" id="heading-proponente">
                            <button data-toggle="collapse" data-target="#collapse-proponente" aria-expanded="false" aria-controls="collapse-proponente" class="border-top-0">
                                Proponente
                            </button>
                        </div>
                        <div id="collapse-proponente" class="collapse filter-options-list py-2 border-bottom border-100 " role="tabpanel" aria-labelledby="heading-proponente" data-parent="#filters">
                            <div class="collapse-body filterButtonContainer">
                                {% for proponente in proponenti %}
                                {% if proponente != null and proponente != "" %}
                                <button class="btn btn-sm btn-primary mr-2 mb-2" data-origin="proponente" data-group="{{ proponente }}">{{ proponente }}</button>
                                {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </li>
                    <li class="col-12 col-md-3">
                        <div class="collapse-header bg-100 mb-2" id="heading-destinatario">
                            <button data-toggle="collapse" data-target="#collapse-destinatario" aria-expanded="false"  aria-controls="collapse-destinatario" class="border-top-0">
                                Destinatari
                            </button>
                        </div>
                        <div id="collapse-destinatario" class="collapse filter-options-list py-2 border-bottom border-100" role="tabpanel" aria-labelledby="heading-destinatario" data-parent="#filters">
                            <div class="collapse-body filterButtonContainer">
                                {% for destinatario in destinatari %}
                                {% if destinatario != null  and destinatario != "" and destinatario != "#N/A" %}
                                <button class="btn btn-sm btn-primary mr-2 mb-2" data-origin="destinatario" data-group="{{ destinatario }}">{{ destinatario }}</button>
                                {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </li>
                    <li class="col-12 col-md-3">
                        <div class="collapse-header bg-100 mb-2" id="heading-activity">
                            <button data-toggle="collapse" data-target="#collapse-activity" aria-expanded="false" aria-controls="collapse-activity" class="border-top-0">
                                Attività
                            </button>
                        </div>
                        <div id="collapse-activity" class="collapse filter-options-list py-2 border-bottom border-100" role="tabpanel" aria-labelledby="heading-activity" data-parent="#filters">
                            <div class="collapse-body filterButtonContainer">
                                {% for activity in attivita %}
                                {% if activity != null and activity != "" %}
                                <button class="btn btn-sm btn-primary mr-2 mb-2" data-origin="activity" data-group="{{ activity }}">{{ activity }}</button>
                                {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </li>
                    <li class="col-12 col-md-3">
                        <div class="collapse-header bg-100 mb-2" id="heading-scala">
                            <button data-toggle="collapse" data-target="#collapse-scala" aria-expanded="false" aria-controls="collapse-scala" class="border-top-0">
                                Scala
                            </button>
                        </div>
                        <div id="collapse-scala" class="collapse filter-options-list  py-2 border-bottom border-100" role="tabpanel" aria-labelledby="heading-scala" data-parent="#filters">
                            <div class="collapse-body filterButtonContainer">
                                {% for scala in scale %}
                                {% if scala != null and scala != "" %}
                                <button class="btn btn-sm btn-primary mr-2 mb-2" data-origin="scala" data-group="{{ scala }}">{{ scala }}</button>
                                {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div id="selected-filter">
            </div>
        </div>
    </div>
</div>
